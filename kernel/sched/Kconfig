#
# Huawei enhanced options for sched
#
config HUAWEI_SCHED_EAS
	bool "Huawei EAS enhance"
	default n
	help
	  EAS enhanced on huawei products.

config SCHED_TOPOLOGY
	bool "EAS support multiple cluster"
	default n
	help
	  Sched support multi cluster.

config SCHED_MULTI_MARGIN
	bool "EAS multiple margin"
	default n
	help
	  Allow each cluster has its own capacity_margin/sd_capacity_margin.

config SCHED_ED_TASK
	bool "Early detection tasks for freq guidance"
	default n
	help
	  early detection tasks for frequency guidance.

config ED_TASK_RESET_AT_UPMIGRATION
	bool "Reset ed task's run/wait time when migrate to faster cpu"
	depends on SCHED_ED_TASK
	default n
	help
	  This feature reset an ed task's last_wake_ts/last_wake_wait_sum if
	  task migrate to faster cpu. This prevents little core's ed task
	  boost big core's freq when it upmigrate.
	  However, it might be confusing if a task become ed task on big core
	  by its earlier running time on little core. Disable this feature
	  and do not reset ed task on migration is a better choice.

config SCHED_RTG
	bool "Related threads group"
	default n
	help
	  Set ux related threads into a group.

config SCHED_RTG_DEBUG
	bool "Related threads group debug"
	depends on SCHED_RTG
	default n
	help
	  Related threads group debugfs.

config SCHED_CGROUP_RTG
	bool "Related threads group sync with stune control"
	depends on SCHED_RTG
	depends on SCHED_TUNE
	default n
	help
	  set schedtune group tasks into a rtg.

config SCHED_CGROUP_RTG
	bool "Related threads group sync with stune control"
	depends on SCHED_RTG
	depends on SCHED_TUNE
	default n
	help
	  set schedtune group tasks into a rtg.

config HUAWEI_SCHED_WALT
	bool "Huawei WALT optimize"
        depends on SCHED_WALT
        default n

if HUAWEI_SCHED_WALT

config SCHED_WALT_WINDOW_SIZE_TUNABLE
	bool "Make WALT window size tunable"
	default n
	help
	  Make walt_ravg_window tunable in early param.

config SCHED_CALC_CUM_WINDOW_DEMAND
	bool "WALT calculate cum window demand"
	default n
	help
	  This option caculates WALT's cum_window_demand.

config SCHED_CHECK_IRQLOAD
	bool "Scheduler check irqload when select task's cpu"
	default n
	help
	  WALT caculates an irqload for each cpu and scheduler will avoid
	  placing task on a high irqload cpu (if WALT enabled).
	  Default disabled because we haven't tested to find out which
	  threshold is the best.

config SCHED_TOP_TASK
	bool "Maintain the top task load of each cpu"
	default n
	help
	  Schedutil governor use the top task load as a guide to
	  frequency evaluation.

config SCHED_MIGRATE_SPREAD_LOAD
	bool "Spread task's load when inter-cluster migration"
	default n
	help
	  In inter-cluster migration, this option will spread task's
	  prev_window/curr_window to all cpus that the task has been
	  running on before in a window. If disabled, task's whole load
	  will move to dest cpu and that will make dest cpu's cpu load
	  very high in same cases.

config SCHED_PRED_LOAD
	bool "Calculate predicted load for each task"
	default n
	depends on HUAWEI_CPU_FREQ_GOV_SCHEDUTIL
	help
	  Another signal to improve schedutil. This will help to ramp up
	  cpufreq quickly.
	  To enable this signal, say yes here and set predl_enable to 1
	  in init rc.

config SCHED_TASK_RAVG_SUM
	bool "Task normalized running time sum"
	default n
	help
	  Sum all normalized running time for each task.

config SCHED_RT_CAS
	bool "rt sched class capacity aware scheduling"
	default n
	help
	  allow rt task to be scheduled according to task util and cpu capacity.

config SCHED_RT_ACTIVE_LB
	bool "RT sched class active balance optimization"
	depends on SCHED_RT_CAS
	default n
	help
	  allow migrating running rt task.

config SCHED_MIGRATION_NOTIFY
	bool "Task migration notify freq change"
	default n
	help
	  tasks migration notify frequency change.

endif # HUAWEI_SCHED_WALT

if SCHED_WALT

config BIG_CLUSTER_CORE_CTRL
	bool "big cluster isolate/unisolate"
	depends on SCHED_WALT
	default y
	help
	  allow big cluster isolate or unisolate.

endif # SCHED_WALT

config HUAWEI_SCHED_VIP
	bool "Support a high prio sched policy in fair sched class"
	default n

config SCHED_TASK_UTIL_CLAMP
	bool "Support userspace constraints on a task's min/max util use"
	default n

config SCHED_DEBUG_TRACE
	bool "Detailed trace for EAS debug"
	default n
	help
	  This option enable detailed tracepoint for EAS debug, there
	  will be more tracepoint in find best target, load balance and
	  energy diff.

config SCHED_PERF_CTRL
	bool "Perf ctrl interface of sched"
	depends on HUAWEI_PERF_CTRL
	default n

config HUAWEI_SCHED_STAT_YIELD
	bool "Report task's cumulative_yield_time"
	default n

config HUAWEI_RT_BLOCKED_REASON
	bool "Add rt task blocked reason trace"
	default n

config HW_FAVOR_SMALL_CAP
	bool "Huawei config favor small capacity"
	default n
	help
	  users turn on or off the switch through ioctrl, when
	  the switch is turned on, the task witch TIF_FAVOR_SMALL_CAP
	  will select little core.
